<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-PCB5BYBNM2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-PCB5BYBNM2');
    </script>
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Theory | NUnit Docs </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Theory | NUnit Docs ">
    
      <link rel="shortcut icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../toc.html">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="theoryattribute">
<h1 id="theory">Theory</h1>

<p>A Theory is a special type of test, used to verify a general
statement about the system under development. Normal tests are
<em>example-based</em>. That is, the developer supplies one or
more examples of inputs and expected outputs either within the
code of the test or - in the case of <a class="xref" href="../../technical-notes/usage/Parameterized-Tests.html">Parameterized Tests</a> -
as arguments to the test method. A theory, on the other hand,
makes a general statement that all of its assertions will pass
for all arguments satisfying certain assumptions.</p>
<p>Theories are implemented in NUnit as non-generic
methods within a <strong>TestFixture</strong>, which are annotated
with the <strong>TheoryAttribute</strong>. Theory methods must always have arguments and therefore appears quite similar to <a class="xref" href="../../technical-notes/usage/Parameterized-Tests.html">Parameterized Tests</a>
at first glance. However, a Theory incorporates additional data sources for its arguments and allows special processing for assumptions
about that data. The key difference, though, is that theories
make general statements and are more than just a set of examples.</p>
<h2 id="data-for-theories">Data for Theories</h2>
<p>The primary source of data for a <strong>Theory</strong> is the
<a href="datapoint.html">Datapoint Attribute</a> or <a href="datapointsource.html">DatapointSource Attribute</a>.
NUnit will use any class members of the required types, which are annotated
with one of these attributes, to provide data for each parameter
of the Theory. NUnit assembles the values for individual arguments
combinatorially to provide test cases for the theory.</p>
<p>In addition to the Datapoint and Datapoints attributes, it
is possible to use any of the approaches for supplying data
that are recognized on normal parameterized tests. We suggest
that this capability not be overused, since it runs counter
to the distinction between a test based on examples and a
theory. However, it may be useful in order to guarantee that
a specific test case is included.</p>
<p>For <strong>boolean</strong> and <strong>enum</strong> arguments, NUnit can supply the
data without any action by the user. All possible values are supplied
to the argument. This feature is disabled if the user supplies any
values for the argument.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Because NUnit searches for datapoints based on the type of the argument, generic methods may not currently be used as theories. This limitation may be removed in a future release. See below for a workaround using a generic fixture.</p>
</div>
<h2 id="assumptions">Assumptions</h2>
<p>The theory itself is responsible for ensuring that all data supplied
meets its assumptions. It does this by use of the
<strong>Assume.That(...)</strong> construct, which works just like
<strong>Assert.That(...)</strong> but does not cause a failure. If
the assumption is not satisfied for a particular test case, that case
returns an Inconclusive result, rather than a Success or Failure.</p>
<p>The overall result of executing a Theory over a set of test cases is
determined as follows:</p>
<ul>
<li>If the assumptions are violated for <strong>all</strong> test cases, then the Theory itself is marked as a failure.</li>
<li>If any Assertion fails, the Theory itself fails.</li>
<li>If at least <strong>some</strong> cases pass the stated assumptions, and there are <strong>no</strong> assertion failures or exceptions, then the Theory passes.</li>
</ul>
<p>Since the user does not generally care about inconclusive cases under
a theory, they are not normally displayed in the Gui. For situations
where they are needed - such as debugging - the context menu for the
theory provides an option to display them.</p>
<h2 id="example">Example</h2>
<p>In the following example, the Theory SquareRootDefinition
verifies that the implementation of square root satisfies
the following definition:</p>
<blockquote>
<p>Given a non-negative number, the square root of that number
is always non-negative and, when multiplied by itself, gives
the original number.</p>
</blockquote>
<pre><code class="lang-csharp">public class SqrtTests
{
    [DatapointSource]
    public double[] values = new double[] { 0.0, 1.0, -1.0, 42.0 };

    [Theory]
    public void SquareRootDefinition(double num)
    {
        Assume.That(num &gt;= 0.0);

        double sqrt = Math.Sqrt(num);

        Assert.That(sqrt &gt;= 0.0);
        Assert.That(sqrt * sqrt, Is.EqualTo(num).Within(0.000001));
    }
}
</code></pre>
<h2 id="theories-in-generic-fixtures">Theories in Generic Fixtures</h2>
<p>In a generic fixture with Type parameter <code>T</code> individual methods using <code>T</code> as
a parameter type or not generic, since <code>T</code> has been resolved to an actual
Type in instantiating the fixture instance. You may use such methods as
theories and any data of the appropriate type will be used.</p>
<pre><code class="lang-csharp">[TestFixture(typeof(int))]
[TestFixture(typeof(double))]
public class TheorySampleTestsGeneric&lt;T&gt;
{
    [Datapoint]
    public double[] ArrayDouble1 = { 1.2, 3.4 };
    [Datapoint]
    public double[] ArrayDouble2 = { 5.6, 7.8 };
    [Datapoint]
    public int[] ArrayInt = { 0, 1, 2, 3 };

    [Theory]
    public void TestGenericForArbitraryArray(T[] array)
    {
        Assert.That(array.Length, Is.EqualTo(4));
    }
}
</code></pre>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="datapoint.html">Datapoint Attribute</a></li>
<li><a href="datapointsource.html">DatapointSource Attribute</a></li>
<li><a class="xref" href="../../technical-notes/usage/Parameterized-Tests.html">Parameterized Tests</a></li>
</ul>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/nunit/docs/blob/master/docs/articles/nunit/writing-tests/attributes/theory.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span> | Copyright (c) 2018-<span id="currentYear"></span> The NUnit Project - Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
