<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html lang="en">

  <head>
    <meta charset="utf-8">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PCB5BYBNM2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-PCB5BYBNM2');
    </script>
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>TestFixtureSource | NUnit Docs </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="TestFixtureSource | NUnit Docs ">
    
    
      <link rel="shortcut icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../toc.html">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="testfixturesource">TestFixtureSource</h1>

<p><code>TestFixtureSourceAttribute</code> is used on a parameterized fixture to identify the source from which the required
constructor arguments will be provided. The data is kept separate from the fixture itself and may be used by multiple
fixtures. See <a class="xref" href="../../technical-notes/usage/Parameterized-Tests.html">Parameterized Tests</a> for a general introduction to tests with arguments.</p>
<h2 id="usage">Usage</h2>
<p>Consider a test fixture class taking two parameters in its constructor, a string and an int. We can specify the test and
its data using one of the forms of <strong>TestFixtureSourceAttribute</strong>:</p>
<h3 id="form-1---testfixturesourcestring-sourcename">Form 1 - [TestFixtureSource(string sourceName)]</h3>
<pre><code class="lang-csharp">[TestFixtureSource(nameof(FixtureArgs))]
public class MyTestClass
{
    public MyTestClass(string word, int num) { ... }

    /* ... */

    static object [] FixtureArgs = {
        new object[] { &quot;Question&quot;, 1 },
        new object[] { &quot;Answer&quot;, 42 }
    };
}
</code></pre>
<p>The single attribute argument in this form is a string representing the name of the source used to provide arguments for
constructing the <code>TestFixture</code>. It has the following characteristics:</p>
<ul>
<li>It may be a field, property or method in the test class.</li>
<li>It <strong>must</strong> be static.</li>
<li>It must return an <code>IEnumerable</code> or a type that implements <code>IEnumerable</code>. For fields an array is generally used. For
properties and methods, you may return an array or implement your own iterator.
<ul>
<li>Methods may also return an <code>IAsyncEnumerable</code> or a type that implements <code>IAsyncEnumerable</code>. (<em>NUnit 4+</em>)</li>
<li>Methods may be async by wrapping the return type in a <code>Task&lt;T&gt;</code>. (<em>NUnit 3.14+</em>)</li>
</ul>
</li>
<li>The individual items returned by the enumerator must either be object arrays or derive from the
<code>TestFixtureParameters</code> class. Arguments must be consistent with the fixture constructor.</li>
</ul>
<h3 id="form-2---testfixturesourcetype-sourcetype-string-sourcename">Form 2 - [TestFixtureSource(Type sourceType, string sourceName)]</h3>
<pre><code class="lang-csharp">[TestFixtureSource(typeof(AnotherClass), nameof(AnotherClass.FixtureArgs)]
public class MyTestClass
{
    public MyTestClass(string word, int num) { ... }

    ...
}

class AnotherClass
{
    static object [] FixtureArgs = {
        new object[] { &quot;Question&quot;, 1 },
        new object[] { &quot;Answer&quot;, 42 }
    };
}
</code></pre>
<p>The first argument of the attribute in this form is a Type representing the class that will provide the test fixture
data.</p>
<p>The second argument is a string representing the name of the source used to provide test fixtures. It has the following
characteristics:</p>
<ul>
<li>It may be a field, property or method in the test class.</li>
<li>It <strong>must</strong> be static.</li>
<li>It must return an <code>IEnumerable</code> or a type that implements <code>IEnumerable</code>. For fields an array is generally used. For
properties and methods, you may return an array or implement your own iterator.
<ul>
<li>Methods may also return an <code>IAsyncEnumerable</code> or a type that implements <code>IAsyncEnumerable</code>. (<em>NUnit 4+</em>)</li>
<li>Methods may be async by wrapping the return type in a <code>Task&lt;T&gt;</code>. (<em>NUnit 3.14+</em>)</li>
</ul>
</li>
<li>The individual items returned by the enumerator must either be object arrays or derive from the
<code>TestFixtureParameters</code> class. Arguments must be consistent with the fixture constructor.</li>
</ul>
<h3 id="form-3---testfixturesourcetype-sourcetype">Form 3 - [TestFixtureSource(Type sourceType)]</h3>
<pre><code class="lang-csharp">[TestFixtureSource(typeof(FixtureArgs))]
public class MyTestClass
{
    public MyTestClass(string word, int num) { /* ... */ }

    /* ... */
}

class FixtureArgs: IEnumerable
{
    public IEnumerator GetEnumerator()
    {
        yield return new object[] { &quot;Question&quot;, 1 };
        yield return new object[] { &quot;Answer&quot;, 42 };
    }
}
</code></pre>
<p>The Type argument in this form represents the class that provides test cases. It must have a default constructor and
implement <code>IEnumerable</code>.</p>
<p>The individual items returned by the enumerator must either be object arrays or derive from the <code>TestFixtureParameters</code>
class. Arguments must be consistent with the fixture constructor.</p>
<h2 id="named-parameters">Named Parameters</h2>
<p><code>TestCaseSourceAttribute</code> supports one named parameter:</p>
<ul>
<li><strong>Category</strong> is used to assign one or more categories to every test case returned from this source.</li>
</ul>
<h2 id="test-case-construction">Test Case Construction</h2>
<p>In constructing tests, NUnit uses each item returned by the enumerator as follows:</p>
<ul>
<li>If it is an object deriving from <code>TestFixtureParameters</code>, its properties are used to provide the test case. NUnit
provides the <a class="xref" href="../TestFixtureData.html">TestFixtureData</a> class for this purpose.</li>
<li>If it is an <code>object[]</code>, its members are used to provide the arguments for the method. This is the approach taken in
the examples above.</li>
</ul>
<h2 id="notes">Notes</h2>
<ol>
<li>It is recommended that the SourceType not be the same as the test fixture class. It may be a nested class, however,
and probably should be if the data is only used within that fixture.</li>
<li>A generic <code>IEnumerable</code> and <code>IEnumerator</code> may be used but NUnit will actually deal with the underlying <code>IEnumerator</code>
in the current release.</li>
<li>The GetEnumerator method may use yield statements or simply return the enumerator for an array or other collection
held by the class.</li>
</ol>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/nunit/docs/blob/master/docs/articles/nunit/writing-tests/attributes/testfixturesource.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Generated by <strong>DocFX</strong></span> | Copyright (c) 2018-<span id="currentYear"></span> The NUnit Project - Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
