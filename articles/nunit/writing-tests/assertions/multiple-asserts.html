<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html lang="en">

  <head>
    <meta charset="utf-8">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PCB5BYBNM2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-PCB5BYBNM2');
    </script>
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Multiple Asserts | NUnit Docs </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Multiple Asserts | NUnit Docs ">
    
    
      <link rel="shortcut icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../toc.html">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="multipleasserts">
<h1 id="multiple-asserts">Multiple Asserts</h1>

<p>Usually, once an assertion fails, we want the test to terminate. But sometimes, it's desirable to continue and
accumulate any additional failures so they may all be fixed at once. This is particularly useful for testing things like
object initialization and UI appearance as well as certain kinds of integration testing.</p>
<h2 id="syntax--example">Syntax / Example</h2>
<p>Multiple asserts are implemented using the <code>Assert.EnterMultipleScope</code> method.</p>
<p>Let's assume we have production code that looks like the following:</p>
<pre><code class="lang-csharp" name="MultipleAssertsProdCode">public class CalculationResult
{
    public double RealPart { get; set; }
    public double ImaginaryPart { get; set; }

}
public class SomeCalculator
{
    public CalculationResult DoCalculation()
    {
        return new CalculationResult
        {
            // Hard-coded for demo
            RealPart = 5.2,
            ImaginaryPart = 3.9
        };
    }
}
</code></pre>
<p>In that case, we could write a test with multiple assertions, such as:</p>
<pre><code class="lang-csharp" name="MultipleAssertsScopes">[Test]
public void MultipleAssertsScopeDemo()
{
    var situationUnderTest = new SomeCalculator();
    var result = situationUnderTest.DoCalculation();

    using (Assert.EnterMultipleScope())
    {
        Assert.That(result.RealPart, Is.EqualTo(5.2));
        Assert.That(result.ImaginaryPart, Is.EqualTo(3.9));
    }

    // Can also work with the classic assertion syntax
    using (Assert.EnterMultipleScope())
    {
        ClassicAssert.AreEqual(5.2, result.RealPart, &quot;Real Part&quot;);
        ClassicAssert.AreEqual(3.9, result.ImaginaryPart, &quot;Imaginary Part&quot;);
    }
}
</code></pre>
<p>Functionally, this results in NUnit storing any failures encountered in the block and reporting all of them together
upon exit from the block. If both asserts failed, then both would be reported. The test itself would terminate at the
end of the block if any failures were encountered, but would continue otherwise.</p>
<h3 id="older-nunit-versions">Older NUnit versions</h3>
<p>Earlier than  NUnit 4.2 you can must  use  <code>Assert.Multiple</code>:</p>
<pre><code class="lang-csharp" name="MultipleAssertsTests">[Test]
public void MultipleAssertsDemo()
{
    var situationUnderTest = new SomeCalculator();
    var result = situationUnderTest.DoCalculation();

    Assert.Multiple(() =&gt;
    {
        Assert.That(result.RealPart, Is.EqualTo(5.2));
        Assert.That(result.ImaginaryPart, Is.EqualTo(3.9));
    });

    // Can also work with the classic assertion syntax
    Assert.Multiple(() =&gt;
    {
        ClassicAssert.AreEqual(5.2, result.RealPart, &quot;Real Part&quot;);
        ClassicAssert.AreEqual(3.9, result.ImaginaryPart, &quot;Imaginary Part&quot;);
    });
}
</code></pre><h2 id="notes">Notes</h2>
<ol>
<li><p>For more information on <code>EnterMultipleScope</code> see this <a href="https://github.com/nunit/nunit/issues/4587">Feature Request</a>.</p>
</li>
<li><p>The multiple assert block may contain any arbitrary code, not just asserts.</p>
</li>
<li><p>Multiple assert blocks may be nested. Failure is not reported until the outermost block exits.</p>
</li>
<li><p>If the code in the block calls a method, that method may also contain multiple assert blocks.</p>
</li>
<li><p>The test will be terminated immediately if any exception is thrown that is not handled. An unexpected exception is
often an indication that the test itself is in error, so it must be terminated. If the exception occurs after one or
more assertion failures have been recorded, those failures will be reported along with the terminating exception
itself.</p>
</li>
<li><p>Assert.Fail is handled just as any other assert failure. The message and stack trace are recorded but the test
continues to execute until the end of the block.</p>
</li>
<li><p>An error is reported if any of the following are used inside a multiple assert block:</p>
<ul>
<li>Assert.Pass</li>
<li>Assert.Ignore</li>
<li>Assert.Inconclusive</li>
<li>Assume.That</li>
</ul>
</li>
<li><p>Use of Warnings (Assert.Warn, Warn.If, Warn.Unless) is permitted inside a multiple assert block. Warnings are
reported normally along with any failures that occur inside the block.</p>
</li>
</ol>
<h3 id="runner-support">Runner Support</h3>
<p>Multiple assertion failures per test are stored in the representation of the test result using new XML elements, which
are not recognized by older runners. The following runners are known to support display of the new elements:</p>
<ul>
<li>NUnit3 Visual Studio Adapter 3.7++ (Used by Visual Studio and <code>dotnet test</code>)</li>
<li>NUnit Console Runner 3.6++</li>
</ul>
<h4 id="compatibility">Compatibility</h4>
<p>Older runners generally display a single failure message and stack trace for each test. For compatibility purposes, the
framework creates a single message that lists all the failures. The stack trace in such a case will indicate the end of
the assert multiple block.</p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/nunit/docs/blob/master/docs/articles/nunit/writing-tests/assertions/multiple-asserts.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Generated by <strong>DocFX</strong></span> | Copyright (c) 2018-<span id="currentYear"></span> The NUnit Project - Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
