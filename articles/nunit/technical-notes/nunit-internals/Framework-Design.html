<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html lang="en">

  <head>
    <meta charset="utf-8">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PCB5BYBNM2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-PCB5BYBNM2');
    </script>
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Framework Design | NUnit Docs </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Framework Design | NUnit Docs ">
    
    
      <link rel="shortcut icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../toc.html">
    
    <meta property="docfx:rel" content="../../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="framework-design">Framework Design</h1>

<div class="WARNING">
<h5>Warning</h5>
<p>This is a draft. The contents may be out of date.</p>
</div>
<p>NUnit 3.0 is intentionally changing certain design decisions made in earlier versions. We document those changes here so
that developers may find them all in one place.</p>
<p>For details, see the individual specifications referenced under each design change subheading.</p>
<h2 id="key-design-changes">Key Design Changes</h2>
<h3 id="multiple-framework-distributions">Multiple Framework Distributions</h3>
<p>NUnit 3.0 introduces separate framework builds for each supported runtime version, including .NET 2.0, 3.5, 4.0 and 4.5.
We will continue to use the same framework assemblies for both the Microsoft and Mono implementations.</p>
<h3 id="merge-nunitlite">Merge NUnitLite</h3>
<p>NUnitLite is a light-weight version of NUnit, requiring minimal resources and running on platforms not supported by full
NUnit. NUnitLite is approximately equivalent to the framework portion of NUnit, with the addition of a rudimentary test
runner.</p>
<p>For the NUnit 3.0 release, the NUnitLite project code has been merged with the code of NUnit itself, using conditional
compilation to support a reduced feature set.</p>
<h3 id="framework-boundary">Framework Boundary</h3>
<p>Historically, most xUnit frameworks incorporate the logic for loading and running tests in the same module that includes
assertions, attributes and other types referenced by the tests. NUnit started that way but the loading and test
execution logic was extracted into a separate assembly in later versions.</p>
<p>This approach had some benefit -- most notably NUnit's ability to run tests built against older versions of the
framework -- but has proven less useful as more features were added. Essentially, the surface area that NUnit presents
to a client program wanting to run tests grows each time a new feature is added. This has made it very difficult for
third parties to keep up with NUnit's feature growth.</p>
<p>For NUnit 3.0, the boundary has been moved. Each version of the framework incorporates a test runner that knows how to
load and execute the tests supported by that version.</p>
<h3 id="framework-api">Framework Api</h3>
<p>The internal (core) interfaces used by earlier versions of NUnit are not suitable for external use because they tend to
change as features are added. The 3.0 release incorporates a new interface, supporting the same functionality as the
existing interfaces, but with fewer dependencies on custom types. It is usable by both NUnit and third-party runners and
will provide functions of test discovery, loading and execution.</p>
<p>See <a href="Framework-Api.html">Framework Api</a></p>
<h3 id="active-attributes">Active Attributes</h3>
<p>In the NUnit 2.x series, Attributes are fundamentally passive objects. They are used as markers for certain kinds of
functionality, but that functionality is implemented in the nunit.core assembly. Reflection is used to identify
attributes, in order to avoid a reference from the core to a specific version of the framework.</p>
<p>In NUnit 3.0, since the test loader is part of the framework assembly, we'll be able to identify attributes without use
of reflection, which should improve load performance. Attributes will actually contain the code that carries out the
necessary functionality.</p>
<p>See <a href="Active-Attributes.html">DRAFT:Active Attributes</a></p>
<h3 id="test-loading">Test Loading</h3>
<p>Earlier releases of NUnit load tests in a hierarchy based on the namespace and may optionally load them as a flat list
of fixtures. The test hierarchy is built as the tests are loaded and reflected in the gui display.</p>
<p>With NUnit 3.0, the test loader will only load fixtures and will not create a hierarchy. It will be the responsibility
of the Gui to construct whatever display hierarchy the user chooses as a view of the tests.</p>
<p>This will simplify the loading of tests and is compatible with NUnitLite, which already loads tests this way.</p>
<h3 id="test-execution">Test Execution</h3>
<p>Currently, the sequencing of tests is the responsibility of the tests themselves. That is, each test suite executes its
own child tests and each test reports its own results.</p>
<p>The absence of a distinct test execution object makes it difficult to support certain features, such as high-level setup
and teardown, parallel test execution and cancellation of running tests with restart.</p>
<p>In NUnit 3.0, the objects representing tests will no longer have the responsibility of running any subordinate tests and
a separate test runner will sequence through the tests to execute them in the desired order.</p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/nunit/docs/blob/master/docs/articles/nunit/technical-notes/nunit-internals/Framework-Design.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Generated by <strong>DocFX</strong></span> | Copyright (c) 2018-<span id="currentYear"></span> The NUnit Project - Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
