<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html lang="en">

  <head>
    <meta charset="utf-8">
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-PCB5BYBNM2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-PCB5BYBNM2');
    </script>
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Adapter V4 Release Notes | NUnit Docs </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Adapter V4 Release Notes | NUnit Docs ">
    
      <link rel="shortcut icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../styles/docfx.css">
      <link rel="stylesheet" href="../../styles/main.css">
      <meta property="docfx:navrel" content="../../toc.html">
      <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="adapter-v4-release-notes">Adapter V4 Release Notes</h1>

<h2 id="nunit3-test-adapter-for-visual-studio-and-dotnet---version-450---may-30-2023">NUnit3 Test Adapter for Visual Studio and Dotnet - Version 4.5.0 - May 30, 2023</h2>
<p>This is a version supporting the upcoming NUnit version 4.  It uses a released version of the NUnit.Engine, version
3.15.4.</p>
<ul>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1080">1080</a> Allow the adapter to be used with NUnit version 4</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1100">1100</a> Allow to debug parallel tests</li>
</ul>
<h2 id="nunit3-test-adapter-for-visual-studio---version-442---mar-1-2023">NUnit3 Test Adapter for Visual Studio - Version 4.4.2 - Mar 1, 2023</h2>
<p>This is a hotfix for the 4.4.0 version.  The 4.4.0 included the NUnit.Engine 3.16.3, which uses an external package for
loading assemblies.  It turns out the engine fails for certain types of loading, in particular when an assembly is
loaded by reflection.</p>
<p>In order to fix this, this version have reverted to a version of the NUnit.Engine based on 3.15.2, which does not have
this way of loading assemblies. The included Engine is not available as a separate package, but if you use anything that
needs the engine package (like the NUnit.Console), version 3.15.2 should work.</p>
<p>The embedded engine handles the .net 8 the same way as with the 4.4.0 adapter.</p>
<p>The following issues, all related to the same problem, are fixed in this release:</p>
<ul>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1065">1065</a> WebHostBuilder.ConfigureServices method not found when
using version 4.4.0</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1066">1066</a> Breaking change for TestAssemblyLoadContext</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1069">1069</a> Any type loaded from assembly at runtime does not match
compile-time type</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1070">1070</a> NUnit failed to load test assembly after upgrading from
4.3.1 to 4.4.0</li>
</ul>
<p>Thanks to everyone that reported in, and special thanks to everyone that provided repro solutions for the problem.</p>
<h2 id="nunit3-test-adapter-for-visual-studio---version-440---feb-26-2023">NUnit3 Test Adapter for Visual Studio - Version 4.4.0 - Feb 26, 2023</h2>
<p><strong>:warning: This version has been unlisted on NuGet, please use version 4.4.2 instead.</strong></p>
<p>The main focus is the support for .Net 8.  This version of the adapter will accept any higher version of the .net, also
future higher versions than .net 8.</p>
<p>The following issues are fixed in this release:</p>
<ul>
<li><p><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1049">1049</a> .Net Framework tests fails when .Net 8 is present on
system</p>
</li>
<li><p><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1037">1037</a> TestContext.Progress shows up as Warning in TFS/Azure
Dev Ops. Thanks to <a href="https://github.com/mharwig">mharwig</a> for the
<a href="https://github.com/nunit/nunit3-vs-adapter/pull/1038">PR</a>.</p>
</li>
</ul>
<h3 id="beta-release">Beta release</h3>
<p>A beta release, Version 4.4.0-beta.1, was released on Feb 23, 2023. There is no changes between this and the previous
beta release, except for updates of packages for the test projects.</p>
<h2 id="nunit3-test-adapter-for-visual-studio---version-431---nov-19-2022">NUnit3 Test Adapter for Visual Studio - Version 4.3.1 - Nov 19, 2022</h2>
<p>This is a hotfix release for three major and critical problems:</p>
<ol>
<li>.Net Framework (4.8 and lower) would crash due to InternalTracelog files trying to be written to the Program Files
directory.</li>
<li>InternalTracelog files would appear in root of solution</li>
<li>TestOutputXml did not work correctly when specified</li>
</ol>
<p>In order to get these fixed the support for netcore2.1 had to be dropped.  This version is also now unsupported by
Microsoft, so the adapter follows that.</p>
<ul>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/987">987</a> Regression on this issue due to the InternalTracelog
files</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1026">1026</a> Current directory C:\WINDOWS\system32 again</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1027">1027</a> Test Explorer is finding tests, but not running them
after upgrading to NUnit3TestAdapter v4.3.0</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1028">1028</a> Test discovery emits zero length <code>internaltrace</code> log
file per project</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1030">1030</a> Problem if OutputXmlFolderMode setting is not in
.runsettings</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/1031">1031</a> TestOutputXml regressions</li>
</ul>
<h3 id="credits">Credits</h3>
<p>Thanks to <a href="https://github.com/janid1967">Jan Inge Dalsbø</a>, <a href="https://github.com/Guitrum">Taylor Willis</a>, <a href="https://github.com/smkanadl">Kai
Nadler</a>, <a href="https://github.com/barnabas90">Barnabas Lakner</a>,
<a href="https://github.com/sandrohanea">sandrohanea</a>, <a href="https://github.com/Quogu">Elliot Prior</a>, <a href="https://github.com/ojintoad">Todd
Ogin</a>, <a href="https://github.com/evheniyrz">Evheniyrz</a>, <a href="https://github.com/manfred-brands">Manfred
Brands</a>, <a href="https://github.com/bdrajer">Boris Drajer</a>, <a href="https://github.com/varnk">Ken
V</a>, <a href="https://github.com/mrvoorhe">Mike Vorhees</a> for all the help with reporting the issues,
reproducing them, analysis and diagnostics, and confirming that 4.3.1 resolves the issues.  Your help is really
appreciated!</p>
<h2 id="nunit3-test-adapter-for-visual-studio---version-430---oct-29-2022">NUnit3 Test Adapter for Visual Studio - Version 4.3.0 - Oct 29, 2022</h2>
<p>This version is for support of the .net 7 framework. See an overview of <a href="/articles/vs-test-adapter/Supported-Frameworks.html">supported frameworks
here</a>.</p>
<p>The support is due to the updated embedded <a href="/articles/nunit-engine/release-notes.html#nunit-console--engine-3152---june-30-2022">NUnit.Engine version
3.15.2</a>.</p>
<ul>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/987">987</a>  System.ArgumentException: Unknown framework version 7.0</li>
</ul>
<p>Other bugs fixed:</p>
<ul>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/990">990</a> Missing output with failed test stack traces for
Assert.Multiple</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/997">997</a> TRX report file folder inconsistent with XML report
folder using .runsettings file. Note that a new runsettings flag has been added for supporting this, see
<a href="/articles/vs-test-adapter/Tips-And-Tricks.html#OutputXmlFolderMode">OutputXmlFolderMode</a>.</li>
</ul>
<h2 id="nunit3-test-adapter-for-visual-studio---version-421---jan-21-2022">NUnit3 Test Adapter for Visual Studio - Version 4.2.1 - Jan 21, 2022</h2>
<p>This is a hotfix release for</p>
<ul>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/941">941</a> When running <code>dotnet test</code> with filter, all tests are run
and all console output is logged.</li>
</ul>
<p>This fix applies to test projects where all tests are excluded by a test item filter. Previously, as of v4.2.0, all
tests were unintentionally run. Note that this issue did not affect category filters.</p>
<h2 id="nunit3-test-adapter-for-visual-studio---version-420---dec-19-2021">NUnit3 Test Adapter for Visual Studio - Version 4.2.0 - Dec 19, 2021</h2>
<p>This is a bug fix release, with the following fixes:</p>
<ul>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/818">818</a> Known Vulnerability in System.Xml.XPath.XmlDocument</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/912">912</a> Explicit runs when using NUnit-filters 'cat!=FOO'</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/914">914</a> AddTestAttachment does not work anymore in VS2022</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/918">918</a> New DiscoveryMode doesn't play nicely with
TestFixtureSource - Missing GenericFixture</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/919">919</a> VSTest test case filter does not work with parentheses</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/929">929</a> Lots of warnings logged when filter matches no tests
'cat=BAZ', including other issues in the same.  Thanks to <a href="https://github.com/runehalfdan">@runehalfdan</a> for a lot of
help reproducing and verifying these issues.  Fixing this also improved performance, and cleared out issues with
Explicit tests.</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/934">934</a> Console output no longer output by dotnet test -v n.</li>
</ul>
<h3 id="engine-update">Engine update</h3>
<p>The NUnit.Engine has been updated to version 3.13 in this release.  See <a class="xref" href="../nunit-engine/release-notes.html">engine release
notes</a> for details.</p>
<h3 id="development">Development</h3>
<p>The <a href="Debugging.html">debugging of an adapter</a> has been made simpler, using just a runsetting to enable it.  See <a href="http://hermit.no/debugging-the-nunit3testadapter-take-2/">this
post</a> for details on the process.</p>
<h2 id="nunit3-test-adapter-for-visual-studio---version-410---nov-8-2021">NUnit3 Test Adapter for Visual Studio - Version 4.1.0 - Nov 8, 2021</h2>
<p>This is a bug fix release, with the following fixes:</p>
<ul>
<li><p><a href="https://github.com/nunit/nunit3-vs-adapter/issues/516">516</a> ArgumentException when whitespace sent to logger. Thanks
to <a href="https://github.com/mthjones">Matt Jones - mthjones</a> for a very good repro, that helped nail this down!</p>
</li>
<li><p><a href="https://github.com/nunit/nunit3-vs-adapter/issues/865">865</a> Breaking changing in 3.17 on &quot;Exception encountered
unloading application domain&quot;</p>
</li>
<li><p><a href="https://github.com/nunit/nunit3-vs-adapter/issues/869">869</a> NUnitTestAdapter - Discovery exception</p>
</li>
<li><p><a href="https://github.com/nunit/nunit3-vs-adapter/issues/884">884</a> NUnit3TestAdapter 4.0.0 - DiscoveryException: Not a
TestFixture, SetUpFixture or TestSuite, but ParameterizedFixture</p>
</li>
</ul>
<h2 id="nunit3-test-adapter-for-visual-studio---version-400---june-6-2021">NUnit3 Test Adapter for Visual Studio - Version 4.0.0 - June 6, 2021</h2>
<p>This major release contains a series of changes, and also underlying changes in the adapter.</p>
<p>This is currently the version that will support Visual Studio 2022.  The earlier versions will initially not support VS
2022.</p>
<p>(There is a currently unknown issue that blocks the 3.X series for VS 2022.  It is currently unclear if the Visual
Studio team may be able to fix this issue. Any fix from the adapter side will include an upgrade, and then the 4.X
series is the solution for that.)</p>
<ul>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues?q=is%3Aissue+is%3Aclosed+project%3Anunit%2Fnunit3-vs-adapter%2F3"><strong>Explicit</strong></a>
works now for all versions of Visual Studio. This is covered by several issues, see below on alpha and beta release
notes.</li>
</ul>
<p>See the alpha and beta release notes below for more issues and features that have been resolved and is included in this
major release.</p>
<p>The following additional features have been implemented in the final release.</p>
<ul>
<li><p><a href="https://github.com/nunit/nunit3-vs-adapter/issues/671">671</a> Exception in OneTimeSetUp has no stack trace</p>
</li>
<li><p><a href="https://github.com/nunit/nunit3-vs-adapter/issues/843">843</a> Reporting random seed for a test case</p>
</li>
<li><p><a href="https://github.com/nunit/nunit3-vs-adapter/pull/863">863</a> The Test Name is by default added to the console output for
tests. It can be turned off by the
<a href="/articles/vs-test-adapter/Tips-And-Tricks.html#usetestnameinconsoleoutput">UseTestNameInConsoleOutput</a> property.</p>
</li>
</ul>
<p>The following additional issue has been resolved:</p>
<ul>
<li><p><a href="https://github.com/nunit/nunit3-vs-adapter/issues/779">779</a> Filtering tests with any &quot;PropertyAttribute&quot;</p>
</li>
<li><p><a href="https://github.com/nunit/nunit3-vs-adapter/issues/852">852</a> NullReferenceException in ExtractTestFixture in
v4.0.0-beta2.</p>
</li>
</ul>
<h2 id="nunit3-test-adapter-for-visual-studio---version-400-beta2---april-6-2021">NUnit3 Test Adapter for Visual Studio - Version 4.0.0-beta.2 - April 6, 2021</h2>
<p>This will be a short beta.2, given we don't hit on any intricate issues.</p>
<p>A major change in this version is the upgrade of the NUnit.Engine to version 3.12, and thus Mono.Cecil is no longer
used.  Instead it has a reduced version (based on Mono.Cecil) packed into TestCentric.engine.metadata doing the same job
with navigation data.</p>
<p>The following issues have been resolved:</p>
<ul>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/824">824</a> &quot;Not a TestFixture or TestSuite, but SetUpFixture&quot;
exception is being thrown in case of more than one SetUpFixture</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/811">811</a> &quot;System.FormatException: The UTC representation of the
date falls outside the year range 1-9999&quot; from skipped test in Eastern European time zone.  Thanks to
<a href="https://github.com/KalleOlaviNiemitalo">KalleOlaviNiemitalo</a> for suggesting the fix.</li>
</ul>
<p>Also a performance improvement was done, thanks to <a href="https://github.com/pakrym">Pakrym</a> for the <a href="https://github.com/nunit/nunit3-vs-adapter/pull/821">PR
821</a></p>
<h2 id="nunit3-test-adapter-for-visual-studio---version-400-beta1---nov-20-2020">NUnit3 Test Adapter for Visual Studio - Version 4.0.0-beta.1 - Nov 20, 2020</h2>
<p>This beta is based on the earlier alpha version, and includes new fixes, some reported in the alpha. A great thank you
to those who reported and checked out the fixes in the alpha!</p>
<p>The alpha has more than 32000 downloads, with only a few issues reported, so we feel safe to move up to a beta.  The
time for beta will be much shorter, so we might be able to release a final 4.0.0 version before end of 2020.</p>
<p>We have also been able to shoehorn some new features into the release.</p>
<ul>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/770">770</a>  &quot;Not a TestFixture, but TestSuite&quot; error when using
un-namespaced SetupFixture.</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/774">774</a> Tests not executed if Console.WriteLine() is used.</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/780">780</a> NUnit3TestAdapter 3.17.0 empty output file regression?</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/781">781</a> An exception occurred while test discoverer
'NUnit3TestDiscoverer' was loading tests. Exception: Object reference not set to an instance of an object, with
VS2015.</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/785">785</a> Seemingly redundant dependency on
Microsoft.DotNet.InternalAbstractions. Thanks to <a href="https://github.com/teo-tsirpanis">teo-tsirpanis</a> for <a href="https://github.com/nunit/nunit3-vs-adapter/pull/790">PR
790</a>.</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/786">786</a> When using TRX logger, should warn about incompatible
test adapter across .NET Framework and .NET Core and/or log where an adapter is located.</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/788">788</a> Documentation: Broken links in user guide
[vs-test-adapter/Resources.html].</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/797">797</a> Proprietary licensed files</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/800">800</a> Rerun in azure devops overwrites last test results xml.
Thanks to <a href="https://github.com/netcorefactory">netcorefactory</a> for <a href="https://github.com/nunit/nunit3-vs-adapter/pull/799">PR
799</a>.</li>
</ul>
<h2 id="nunit3-test-adapter-for-visual-studio---version-400-alpha1---july-12-2020">NUnit3 Test Adapter for Visual Studio - Version 4.0.0-alpha.1 - July 12, 2020</h2>
<p>This is an early pre-release version.</p>
<p>The code has been rewritten/refactored in order to get some of the more complex issues fixed.  It does pass all the
automatic tests we have, but there are still more tests we would like to take it through, before we release a beta.</p>
<p>We would really appreciate it if you give this alpha a spin. and
<a href="https://github.com/nunit/nunit3-vs-adapter/issues">report</a> whatever you find back to us.</p>
<p>The major fixes now are Explicit runs are fully back, both in Visual Studio and on command line with dotnet test and
vstest.console.</p>
<p>Further there has been a significant performance improvement for large test sets, and in particular when you run with
categories or other filters.</p>
<p>For those interested in details, some of this has been achieved by converting the VSTest type of filters to NUnit native
filters  (Thanks to <a href="https://github.com/CharliePoole">Charlie Poole</a> for his excellent contribution here.).</p>
<ul>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/497">497</a>  Dotnet test with category filter is slow with a lot of
tests</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/545">545</a>  Setting <code>TestCaseSource</code> to <code>Explicit</code> makes other tests
in fixture explicit</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/612">612</a>  It is not possible to run an explicit test from Test
Explorer</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/658">658</a>  Explicit tests are automatically run in Visual Studio
2019</li>
<li><a href="https://github.com/nunit/nunit3-vs-adapter/issues/767">767</a>  Replace use of VSTest filters with NUnit filters</li>
</ul>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/nunit/docs/blob/master/docs/articles/vs-test-adapter/AdapterV4-Release-Notes.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <span>Generated by <strong>DocFX</strong></span> | Copyright (c) 2018-<span id="currentYear"></span> The NUnit Project - Licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
